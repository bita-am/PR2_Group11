\documentclass[12pt,onecolumn,a4paper]{article}
\usepackage{epsfig,graphicx,subfigure,amsthm,amsmath,indentfirst,geometry,titling,array}
    \newcounter{rowno}
    \setcounter{rowno}{0}
\usepackage[utf8]{inputenc}
\usepackage{longtable}
\usepackage{amsmath}
\usepackage{color,xcolor,tikz}   
\usepackage[table]{xcolor}
\usepackage{xepersian}
\settextfont[Scale=1.2]{B Nazanin.ttf}
\setlatintextfont[Scale=1]{Times New Roman}
\renewcommand{\baselinestretch}{1.5}
\setlength{\parindent}{1.15em}
\geometry{
 a4paper,
 total={170mm,257mm},
 right=25mm,
 top=25mm,
 left=25mm,
 bottom=25mm
 }



\definecolor{titlepagecolor}{cmyk}{1,.60,0,.40}
\newcommand\titlepagedecoration{%
\begin{tikzpicture}[remember picture,overlay,shorten >= -10pt]

\coordinate (aux1) at ([yshift=-15pt]current page.north east);
\coordinate (aux2) at ([yshift=-410pt]current page.north east);
\coordinate (aux3) at ([xshift=-4.5cm]current page.north east);
\coordinate (aux4) at ([yshift=-150pt]current page.north east);

\begin{scope}[titlepagecolor!40,line width=12pt,rounded corners=12pt]
\draw
  (aux1) -- coordinate (a)
  ++(225:5) --
  ++(-45:5.1) coordinate (b);
\draw[shorten <= -10pt]
  (aux3) --
  (a) --
  (aux1);
\draw[opacity=0.6,titlepagecolor,shorten <= -10pt]
  (b) --
  ++(225:2.2) --
  ++(-45:2.2);
\end{scope}
\draw[titlepagecolor,line width=8pt,rounded corners=8pt,shorten <= -10pt]
  (aux4) --
  ++(225:0.8) --
  ++(-45:0.8);
\begin{scope}[titlepagecolor!70,line width=6pt,rounded corners=8pt]
\draw[shorten <= -10pt]
  (aux2) --
  ++(225:3) coordinate[pos=0.45] (c) --
  ++(-45:3.1);
\draw
  (aux2) --
  (c) --
  ++(135:2.5) --
  ++(45:2.5) --
  ++(-45:2.5) coordinate[pos=0.3] (d);   
\draw 
  (d) -- +(45:1);
\end{scope}
\end{tikzpicture}%
}

\begin{document}
\title{\vspace{-1.5cm}\includegraphics[scale=.7]{Sprint2/Sharif.jpg}\\\line(1,0){14cm}\\«پروژه دوم درس سیستم‌های اطلاعاتی مدیریت»\\
فاز دوم\\\line(1,0){14cm}\\}
\author{\Large مؤلفان:\\
\Large شیرین شهابی‌نژاد\\ 
\Large بیتا علی‌محمّدی \\
\Large ابوالفضل جوادی‌راد\\[2cm]}

\date{دی ماه 1399}

\maketitle
\titlepagedecoration
\thispagestyle{empty}
\newpage
\tableofcontents
\thispagestyle{empty}
\newpage
\clearpage
\pagenumbering{arabic} 
\section{نمودار\lr{Use Case  }}
این نمودار عملکرد سیستم را نشان می دهد و این که چه کسانی با چه سیستم هایی از سیستم مورد نظر در ارتباط هستند. ارتباط آن ها با سیستم چگونه است و چه انتظارتی از سیستم دارند. در این نمودار هدف تعیین نیازها است نه تعیین چگونگی برآورده شدن آن ها.

\subsection{تعریف\lr{actor}}
نقشی که کاربر در ارتباط با سیستم ایفا می‌کند، کنشگر نامیده می شود. کنشگر آغاز کننده‌ی فعالیتی در سیستم است. در اینجا توجه به نقش کاربر است و نه شخص کاربر. کلیه‌پی کاربران از جمله سایر سیستم ها\lr{actor}سیستم محسوب می شوند.

\subsection{جدول تعریف \lr{actor}ها}
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}
\begin{longtable}[c]{|M{3 cm} | M{11cm}|}
 \caption{تعریف کنشگرها\label{long}}\\

 \hline
 \multicolumn{2}{| c |}{جدول کنشگرها}\\
 \hline
 کنشگر &  تعریف\\
 \hline
 \endfirsthead

 \hline
 \multicolumn{2}{|c|}{ادامه جدول تعریف \lr{actor}ها \ref{long}}\\
 \hline
 کنشگر & تعریف\\
 \hline
 \endhead

 \hline
 \endfoot

 \end{longtable}

\subsection{تصویر کاربران}
\centerline{\includegraphics[scale=.7]{Sprint2/actors.jpg}}


\subsection{جدول راهنمای مورد کاربردها}
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}
\begin{longtable}[c]{|M{3 cm} | M{8cm}| M{4cm}|}
 \caption{راهنمای نمودار \lr{UseCase}\label{long}}\\

 \hline
 \multicolumn{3}{| c |}{جدول موارد کاربرد}\\
 \hline
 مورد کاربرد &  توصیف مورد کاربرد & کنشگرهای مرتبط\\
 \hline
 \endfirsthead

 \hline
 \multicolumn{3}{|c|}{ادامه جدول موارد کاربرد\ref{long}}\\
 \hline
 مورد کاربرد &  توصیف مورد کاربرد & کنشگرهای مرتبط\\
 \hline
 \endhead

 \hline
 \endfoot
 ثبت نام مشتریان & کاربر جدید از طریق سامانه و با وارد کردن  اطلاعات خود، شماره تماس یا ایمیل اقدام به ثبت نام می‌کند. پس از دریافت ایمیل یا پیامک تأیید از طرف سامانه اطلاع‌رسانی، ثبت نام کامل می‌شود و اطلاعات فرد در دیتابیس مشتریان ثبت می‌شود. & کاربر سیستم، سامانه اطلاع‌رسانی، دیتابیس مشتریان
 \hline
ورود به حساب کاربری & کاربران نام کاربری و رمز عبور خود را وارد می‌کنند. سامانه پس از مطابقت اطلاعات وارد شده با دیتابیس مشتریان، مجوز ورود را صادر می‌کند. & کاربران سیستم، دیتابیس مشتریان
 \hline
نمایش لیست فروشگاه‌های نزدیک & پس از ورود کاربر، ابتدا سامانه لیستی از فروشگاه‌های لباس نزدیک به وی و هزینه ارسال سفارش از طریق پیک را به کاربر نشان می‌دهد. برای نمایش اطلاعات از دیتابیس‌های مرتبط استفاده می‌شود. & کاربر سیستم، دیتابیس مشتریان، دیتابیس فروشگاه
\hline
نمایش لیست کالاهای موجود & کاربر یکی از فروشگاه‌های نزدیک خود را انتخاب می‌کند و سامانه، محصولات موجود در فروشگاه را با توجه به داده‌های موجود در دیتابیس نمایش می‌دهد. & کاربر سیستم، سامانه، دیتابیس فروشگاه‌ها
\hline
جستجو و نمایش کالاها & مشتریان می‌توانند محصولات مدنظر خود را با جستجو در سایت مشاهده کنند. سامانه، نتایج مرتبط با جستجوی کاربر را از دیتابیس دریافت می‌کند و نمایش می‌دهد. & کاربر سیستم، بازدیدکننده، دیتابیس فروشگاه‌ها
\hline
مدیریت سبد خرید & کاربران می‌توانند کالاهای مورد نظر خود را در سامانه به سبد خرید خود اضافه کنند، تعدادشان را مشخص کنند و آن‌ها را حذف کنند. سپس سیستم لیست کالاهای سفارش مشتری را بررسی می‌نماید تا مشکلی در آن وجود نداشته باشد. برای مثال تمامی کالاهای درخواستی در فروشگاه مدنظر موجود باشد یا زمان سفارش در محدوده زمان کاری فروشگاه قرار داشته باشد. & کاربر سیستم، دیتابیس فروشگاه
\hline
پرداخت هزینه & کاربران پس از تکمیل سبد خرید خود، از طریق درگاه بانکی، اقدام به پرداخت هزینه به صورت آنلاین می‌کنند. کاربر به صفحه درگاه بانکی انتقال داده می‌شود و مبلغ خرید خود را واریز می‌کند و سامانه از طریق درگاه بانکی، از موفق بودن پرداخت الکترونیکی باخبر می‌گردد. سپس لیست خرید مشتری در دیتابیس مشتریان ثبت می‌شود. در صورت ناموفق بودن واریز وجه، عملیات خرید متوقف می‌شود ولی لیست خرید کاربر در دیتابیس مشتریان نگه داشته می‌شود. & کاربر سیستم، سیستم پرداخت آنلاین، دیتابیس مشتریان
\hline
ارسال لیست سفارش به فروشگاه & پس از پرداخت وجه لیست سفارش مشتری از طریق سامانه برای فروشگاه مربوطه ارسال می‌شود تا فروشگاه کالاها را آماده کند & فروشگاه، دیتابیس فروشگاه‌ها
\hline
جستجو در بین پیک‌های موتوری & پس از پرداخت وجه سامانه بین پیک موتوری‌ها جستجو می‌کند تا نزدیک‌ترین پیک موتوری را برای ارسال کالا به مشتری انتخاب کند. در صورتی که پیک درخواست را رد نمود، جستجوی دیگری صورت می‌گیرد تا پیک دیگری پیدا شود و این روند تا پیدا شدن پیک ادامه می‌یابد. & پیک موتوری، دیتابیس‌ها پیک‌ها
\hline
